<html>
<head>
	<script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
	<script type="text/javascript">
	$(document).ready(function() {
		//When div.edit me is clicked, run this function
		$("span.editme").click(function() {
			//This if statement checks to see if there are 
			//and children of div.editme are input boxes. If so,
			//we don't want to do anything and allow the user
			//to continue typing
			if ($(this).children('input').length == 0) {
			
				//Create the HTML to insert into the div. Escape any " characters 
				var inputbox = "<input type='text' class='inputbox' value=\""+$(this).text()+"\">";
				
				//Insert the HTML into the div
				$(this).html(inputbox);
				
				//Immediately give the input box focus. The user
				//will be expecting to immediately type in the input box,
				//and we need to give them that ability
				$("input.inputbox").focus();
				
				//Once the input box loses focus, we need to replace the
				//input box with the current text inside of it.
				$("input.inputbox").blur(function() {
					var value = $(this).val();
					$(".editme").text(value);
				});
			}
		});		

	});
	(function($) {
		$.fn.inlineEdit = function(options) {
			// define some options with sensible default values
			// - hoverClass: the css classname for the hover style
			options = $.extend({
			hoverClass: 'hover'
			}, options);
			return $.each(this, function() {
				// define self container
				var self = $(this);
				// create a value property to keep track of current value
				self.value = self.text();
				// bind the click event to the current element, in this example it's span.editable
				self.bind('click', function() {
					self
					// populate current element with an input element and add the current value to it
					.html('<input type="text" value="'+ self.value +'">')
					// select this newly created input element
					.find('input')
					// bind the blur event and make it save back the value to the original span area
					// there by replacing our dynamically generated input element
					.bind('blur', function(event) {
						self.value = $(this).val();
						self.text(self.value);
					})
					// give the newly created input element focus
					.focus();
				})
				// on hover add hoverClass, on rollout remove hoverClass
				.hover(
					function(){
						self.addClass(options.hoverClass);
					},
					function(){
						self.removeClass(options.hoverClass);
					}
				);
			});
		}
	})(jQuery);
	$(function(){
		$('.editme').inlineEdit();
	}); 
	</script>
</head>
<body>
	<span class="editme">PPI descriptive name.</span>
</body>
</html>
